package
{
import flash.display.*
import flash.events.*
import flash.utils.*
import flash.system.*
import flash.text.*
import flash.display3D.*


public class Main extends Sprite
{
public var worker:Worker;
public var mc:MessageChannel

public function Main() 
{
if (Worker.current.isPrimordial) mainThread();
else workerThread();

}

private function mainThread():void
{

worker = WorkerDomain.current.createWorker(this.loaderInfo.bytes);
mc = worker.createMessageChannel(Worker.current);
mc.addEventListener(Event.CHANNEL_MESSAGE, onMessage);
worker.setSharedProperty("mc", mc);
worker.start();

}
private function workerThread():void
{
var mc:MessageChannel = Worker.current.getSharedProperty("mc");

mc.send("instruder");
}

private function onMessage(e:Event):void
{

var local6:TextField = new TextField();
this.addChild(local6);
local6.background = true;

try{
var local8:TextFormat = new TextFormat();
var local10:Array = new Array();
local10.length = 2147483647;
local8.tabStops = local10;
}
catch(myError:Error){}

}



}

}
